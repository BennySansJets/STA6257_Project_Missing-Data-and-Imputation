<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Natalie Belford, Benjamin Brustad, Jasmine Hyler">
<meta name="dcterms.date" content="2023-07-22">

<title>Missing Data and Imputation</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Missing Data and Imputation</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Natalie Belford, Benjamin Brustad, Jasmine Hyler </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 22, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Missing data is ubiquitous in any dataset. Although alone it is not a problem, missing data becomes a problem when its analysis shows bias or lacks power. While the occurrence of missing data is immense, its discussion in many peer-reviewed journal articles is not so. Even more infrequent were the discussions on how best to accurately institute observations in the missing dataset. Some researchers have observed, <span class="citation" data-cites="ljlmw14">(<a href="#ref-ljlmw14" role="doc-biblioref">Little et al. 2014</a>)</span> there are areas of loss when it comes to missing data – bias, power, and recoverability.</p>
<p>Missing data in experiments and analyses can lead to inaccurately distributed data and calculations, skewed visuals (such as histograms, line graphs, etc.), and allow for inaccurate conclusions to be rendered. Determining which method is best is another challenge entirely. The problem of missing data in research applications is vast. There is a significant need to best correct the missing data points in order to provide the most accurate and complete dataset from which to analyze the research and draw accurate conclusions. Researchers suggest using the most common form of missing data analysis, Multiple Imputation (MI) in addition to other novel suggested approaches.</p>
<p>MI resolves the issue of “too small or too big” standard errors gathered from using traditional methods of addressing missing data. A large standard error occurs when statistical results are acquired with a lack of precision, whereas a small standard error occurs when statistical results are acquired with an overestimation of precision.</p>
<p>As others<span class="citation" data-cites="mhth19">(<a href="#ref-mhth19" role="doc-biblioref">Madley-Dowd et al. 2019</a>)</span> have noted, providing sufficient auxiliary variables can alleviate power degradation from missing data. They determined that standard error increased when the fraction of missing information (FMI) increased, while FMI decreased when auxiliary variables increased.</p>
<p>There has also been discussion of the concept of using machine learning to address missing data <span class="citation" data-cites="emmsmt21">(<a href="#ref-emmsmt21" role="doc-biblioref">Emmanuel et al. 2021</a>)</span>. Using machine learning, additional imputation methods to alleviate missing data include K Nearest Neighbor (KNN) and Support Vector Machine(SVM). KNN measures distances for each missing value and pulls the replacement value from the smallest distances. KNN still performs well even with large amounts of missing data, and in iterative versions, it has been shown to converge faster than many other methods, yet with a high computation time. SVM is similar, but rather than weighting each distance as with KMM, it aims to create a hyperplane that has the largest distance to data points <span class="citation" data-cites="emmsmt21">(<a href="#ref-emmsmt21" role="doc-biblioref">2021</a>)</span>. It should be noted that the KNN method outperformed the experiment’s implementation of a random forest decision tree for small missingness ratios.</p>
<p>Many researchers argue that single imputation methods should be used only in randomized trials <span class="citation" data-cites="awlb21">(<a href="#ref-awlb21" role="doc-biblioref">Austin et al. 2021</a>)</span>.</p>
<section id="types-of-missing-data" class="level4">
<h4 class="anchored" data-anchor-id="types-of-missing-data">Types of Missing Data</h4>
<p>Throughout the topic research, a common theme has immerged. Missing data is categorized into either one of three types: missing completely at random, missing at random, and missing not at random.</p>
<p>Kang <span class="citation" data-cites="k13">(<a href="#ref-k13" role="doc-biblioref">2013</a>)</span> introduces us to the three types of missing data as initially proposed by Rubin <span class="citation" data-cites="r76">(<a href="#ref-r76" role="doc-biblioref">Rubin 1976</a>)</span>. This was expanded upon <span class="citation" data-cites="pmckppp17">(<a href="#ref-pmckppp17" role="doc-biblioref">Pedersen et al. 2017</a>)</span> to discuss the thorough estimation value of using MI in data analysis along with providing the three-step method. They <span class="citation" data-cites="pmckppp17">(<a href="#ref-pmckppp17" role="doc-biblioref">Pedersen et al. 2017</a>)</span> conclude the results of using MI are similar to using complete datasets thereby enhancing the credibility of the method’s robustness.</p>
<p>Missing completely at random (MCAR) refers to the probability that missing data is either not related to a specific value that is supposed to be obtained or the set of obtained values. The data can also be missing due to equipment failure, samples lost in transit, or unsatisfactory samples <span class="citation" data-cites="k13">(<a href="#ref-k13" role="doc-biblioref">Kang 2013</a>)</span>. MCAR data are unbiased and therefore an advantage due to its estimated parameters being objective and undeterred due to missing data. As a result, MCAR is the best-case option for missing data in an experiment. When Missing not at random (MCAR) occurs, no bias is observed, only power is affected resulting in standard error (SE) around the estimates being larger due to reduced sample size. Missing at random (MAR) refers to the probability that missing responses are dependent upon the set of observed responses, but not related to the specific values expected to be obtained given the history of the obtained variable prior to the experiment. This is the most realistic option for missing data. When Missing at random (MAR) occurs, the missing data is knowable and missingness is predictable, therefore, estimates can be determined; bias can be “recovered” <span class="citation" data-cites="k13">(<a href="#ref-k13" role="doc-biblioref">Kang 2013</a>)</span>.</p>
<p>Missing not at random (MNAR) refers to any case of missing data that cannot be classified as either missing completely at random or missing at random. MNAR is the least desirable scenario of missing data. The only way to accurately obtain an unbiased observation of the data is to model the data and use the model to incorporate it into a more complex model to estimate the values <span class="citation" data-cites="k13">(<a href="#ref-k13" role="doc-biblioref">Kang 2013</a>)</span>. When Missing not at random (MNAR) occurs, the subjects affect the variables. Subjects do not want to disclose accurate information for fear or shame, and therefore forego providing a data point altogether <span class="citation" data-cites="ljlmw14">(<a href="#ref-ljlmw14" role="doc-biblioref">Little et al. 2014</a>)</span>.</p>
</section>
<section id="types-of-missing-data-solutions" class="level4">
<h4 class="anchored" data-anchor-id="types-of-missing-data-solutions">Types of Missing Data Solutions</h4>
<p>Kang attempts to provide solutions to fill in the missing data points<span class="citation" data-cites="k13">(<a href="#ref-k13" role="doc-biblioref">Kang 2013</a>)</span> . His research suggests the best solution to missing data is to be proactive to prevent it. When prevention fails to eliminate missing data, Kang offers several data analysis solutions to make the data more robust. The most common solution is complete case analysis, also stated as listwise analysis, with the aim to eliminate the missing data records altogether and analyze only the remaining whole data records.</p>
<p>Meanwhile, <span class="citation" data-cites="ltclbghc21">(<a href="#ref-ltclbghc21" role="doc-biblioref">Lee et al. 2021</a>)</span> deem the method beneficial for some use cases, but not sufficient for most analyses. They introduce Treatment and Reporting of Missing data in Observational Studies (TARMOS), a novel framework alternative to MI, whose aim is to provide transparency and limit redundancies in substituted data. The framework notes the importance of using auxiliary variables to gather information from incomplete observations.</p>
<p>In addition to using MI, Little, et al.&nbsp;recommended using full-information maximum likelihood to mitigate the issues of missing data <span class="citation" data-cites="ljlmw14">(<a href="#ref-ljlmw14" role="doc-biblioref">Little et al. 2014</a>)</span>. Using the three discussed planned missing data designs - multiform questionnaire protocol, two-method planned missing design, and wave-missing longitudinal design – the user is able to better understand how to overcome missing data issues.</p>
<p>It is essential to have quality datasets to avoid corrupted machine learning models. A derivative of MI is the Multivariate Imputation by Chained Equation (MICE) algorithm which assumes data is missing at random (MAR). The process uses multiple imputation methods to provide better results by considering the uncertainty of missing data.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="MultiImputation.gif" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure 1: Multiple Imputation Process using 5 sets</figcaption>
</figure>
</div>
<p>Others<span class="citation" data-cites="kh20">(<a href="#ref-kh20" role="doc-biblioref">Khan and Hoque 2020</a>)</span> provide an alternative to MICE. Known as SICE, the new method improves upon the already existing Multivariate Imputation by Chained Equation (MICE) algorithm (found as a package in R), split into two variations to impute both categorical and numerical data. The method improves missing data by creating a hybrid of single and multiple imputation techniques. Using the respective variant, SICE-Categorical and SICE-Numeric, of the Single Center Imputation from Multiple Chained Equation (SICE) algorithm, the missing data values are corrected using a thorough approach to closely find a more accurate value to use instead, using predicted values imputed using the MI approach, by computing for the imputed values a mean or mode, depending on the data type, and replacing the original imputed value with the respective central measure. An added feature of using SICE in R is that it often had the lowest computation time for its data sets.</p>
<p>Two main techniques of imputation exist – traditional and modern <span class="citation" data-cites="oap18">(<a href="#ref-oap18" role="doc-biblioref">Osman, Abu-Mahfouz, and Page 2018</a>)</span>. The traditional technique - single imputation, deletion, and mean imputation may be obsolete. However, Hot or Cold deck imputation (replacing missing data using similar data sets), and Regression imputation (replacing missing data with points along a regression) - may prove useful with many datasets. Furthermore, single imputation may lead to biased results and underestimation of error or variability.</p>
</section>
</section>
<section id="methods" class="level2">
<h2 class="anchored" data-anchor-id="methods">Methods</h2>
<p>The dataset used to conduct the below Missing Imputation methods was adapted from the most recent study conducted by the U.S. Department of Health &amp; Human Services which examined 21 specific chronic illnesses of Medicare beneficiaries <span class="citation" data-cites="CMMS">(<a href="#ref-CMMS" role="doc-biblioref">Medicare &amp; Medicaid Services 2018</a>)</span>.</p>
<p>The Multiple Imputation (MI) approach is used to correct the issue of imputing multiple times the missing values from the predictive distribution of the missing given observed data. “Next, the analysis model is fitted to each ‘complete’ data set and results combined using Rubin’s rules” <span class="citation" data-cites="k13">(<a href="#ref-k13" role="doc-biblioref">Kang 2013</a>)</span>. Bias can be reduced and efficiency increased by using in the imputation step the auxiliary variables (predictive of missing values but not in the substantive model). The MI method is good but is not appropriate for handling all missing data records.</p>
<p>There is a three-step process for conducting a statistical analysis of MI. The stages are 1) Selecting independent variables that may help impute variables with missing data, 2) Noting the chosen statistical method, estimating in each of the imputed datasets the association of interest, and 3) Combining using Rubin’s rules the association measures from each imputed dataset <span class="citation" data-cites="r76">(<a href="#ref-r76" role="doc-biblioref">Rubin 1976</a>)</span>. To combine, we use the following equations for Standard Error(SE), Arithmetic Average(W) and the Variability of the estimates(B), where t is a particular dataset, m is the total amount of imputed datasets, <span class="math inline">\(\hat{\theta}\)</span> and <span class="math inline">\(\bar{\theta_t}\)</span> are the average parameter estimate and the parameter estimate for a particular dataset, respectively. <span class="citation" data-cites="oap18">(<a href="#ref-oap18" role="doc-biblioref">Osman, Abu-Mahfouz, and Page 2018</a>)</span></p>
<p><span class="math display">\[
\begin{align*} W=&amp;\frac {\sum \left ({{SE}_{t} }\right)^{2}}{m} \tag{1}\\ B=&amp;\frac {\sum \left ({\hat {\theta }_{t}-\bar {\theta } }\right)^{2}}{m-1} \tag{2}\\ SE=&amp;\sqrt {W+B+\frac {B}{m}}\tag{3}\end{align*}
\]</span></p>
<p><span class="citation" data-cites="ljlmw14">(<a href="#ref-ljlmw14" role="doc-biblioref">Little et al. 2014</a> )</span> provide exceptional detail on how to alleviate missing data using full-information maximum likelihood and multiple imputations followed by a presentation of 3-form planned missing design to include multiform questionnaire protocols, 2-method measurement models, and wave-missing longitudinal designs.</p>
<p>TARMOS consists of three main steps with a series of subsets within each step. The steps are as follows. Step 1: Plan the analysis, step 2: Conduct the preplanned analysis, step 3: Report the analysis <span class="citation" data-cites="ltclbghc21">(<a href="#ref-ltclbghc21" role="doc-biblioref">Lee et al. 2021</a>)</span>. The framework’s emphasis is on transparency. All expectations of the analysis and the research interests should be disclosed.</p>
<p>One proposed method which we deem computationally feasible for this project is multiple imputation <span class="citation" data-cites="ljlmw14">(<a href="#ref-ljlmw14" role="doc-biblioref">Little et al. 2014</a> )</span>. The methodology includes performing single imputation with multiple data sets, analyzing and computing the error of each set, and combining the data into a single, final data set.</p>
<p>Researchers tested their proposed SICE method using four datasets, a sample of 65,000 real health records from hospitals and diagnostic clinics in Bangladesh, and a public dataset each from UCI Machine Learning Repository, Department of Mathematics of ETH Zurich, and Kaggle. The data types assessed were binary, categorical, and numeric. Researchers tested SICE performance against that of 12 existing imputation methods. Binary and numeric data responded better to SICE than the opposing methods. When using SICE, F-measurement resulted in a 20% increase while error reduction resulted in an 11% increase; both factors showed improvement using SICE compared to the existing imputation methods. There was no significant time difference when running SICE compared to MICE <span class="citation" data-cites="pmckppp17">(<a href="#ref-pmckppp17" role="doc-biblioref">Pedersen et al. 2017</a>)</span>.</p>
<p>Using Multiple Imputation by Chained Equations (MICE), the multiple imputation is conducted by manipulating the imputed data and comparing it to the regression, repeating the process multiple times, (usually 5-20), to create a single data set. Most modern imputations will create 20-100 data sets. Then each of these data sets will be analyzed and compared, such that the MI estimate of any statistic is the average of the statistic across each imputed set. The variance of each statistic is based on the within-imputation variation and the between-imputation variation <span class="citation" data-cites="awlb21">(<a href="#ref-awlb21" role="doc-biblioref">Austin et al. 2021</a>)</span>. The variable that is to be analyzed must be included in the imputation model, even if there is no missing data, otherwise, it will often be biased towards null.</p>
<p>For our analysis, we decided to use the R packages for predictive means matching, classification and regression trees, and lasso linear regression, defined below.</p>
<section id="equations" class="level3">
<h3 class="anchored" data-anchor-id="equations">Equations</h3>
<section id="predictive-means-matching" class="level4">
<h4 class="anchored" data-anchor-id="predictive-means-matching">Predictive Means Matching</h4>
<p>Predictive means matching(PMM) is a hot deck method, which pools complete cases which are similar to the case we are trying to impute, and randomly chooses values from the pool of prospective donors to be imputed for the missing data.For each missing variable, <span class="math inline">\(x\)</span>, we impute using parameters <span class="math inline">\(\alpha\)</span> and covariates <span class="math inline">\(z\)</span>. We use <span class="math inline">\(h\)</span> as a subscript for data containing <span class="math inline">\(x\)</span> and <span class="math inline">\(j\)</span> for data without. PMM choses a random donor from <span class="math inline">\(x_h\)</span> such that the distance defined below is minimized.</p>
<p><span class="math display">\[
\delta_{hj}=\alpha^{mis}z_j-\alpha^{obs}z_h \tag{4}
\]</span></p>
</section>
<section id="classification-and-regression-trees" class="level4">
<h4 class="anchored" data-anchor-id="classification-and-regression-trees">Classification and Regression Trees</h4>
<p>Classification and regression trees(CART) looks for predictors and cutoff points in the data, and splits data into trees along these points. Classifications trees are used for discrete data, but for continuous, such as ours, regression trees are employed. Missing data is replaced very similarly to the PMM method, but data is chosen according to the tree of splitting points rather than regression <span class="citation" data-cites="RJG21">(<a href="#ref-RJG21" role="doc-biblioref">Rodgers, Jacobucci, and Grimm 2021</a>)</span>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="CART.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure 2: Example of Imputations and Analysis using a tree</figcaption>
</figure>
</div>
</section>
<section id="lasso-regression" class="level4">
<h4 class="anchored" data-anchor-id="lasso-regression">Lasso Regression</h4>
<p>Lasso linear regression fits a linear regression using the missing columns as dependent and complete columns as predictors. Then a Bayesian linear model is defined, and imputations are drawn from the posterior predictive distribution. Coefficients <span class="math inline">\(\hat{\beta_0}\)</span> and <span class="math inline">\(\hat{\beta}^{lasso}\)</span> are estimated by</p>
<p><span class="math display">\[(\hat{\beta_0}, \hat{\beta}^{lasso}) =argmin[\sum(Y_i-(\beta_0+\beta X^T_i))^2+\lambda \sum |\beta_j|] \tag5\]</span> where Y and X are the outcome and predictors respectively. λ is a non-negative tuning parameter that controls the amount of shrinkage, with increased shrinkage for higher λ values <span class="citation" data-cites="MZPRG14">(<a href="#ref-MZPRG14" role="doc-biblioref">Musoro et al. 2014</a>)</span>.</p>
</section>
</section>
</section>
<section id="analysis-and-results" class="level2">
<h2 class="anchored" data-anchor-id="analysis-and-results">Analysis and Results</h2>
<p>Prior to implementing the MICE method, we ran a missing map to get a count of which rows and columns contain missing data and how many data points are missing. As the following table and figures will show most of the columns contain their complete data set. We do, however, have three columns – Provisional Income, the Total Medicare Standardized Payment and the Total Medicare Payment. Provisional Income has 408 missing entries, and payments have missing values in 918 rows each. In our data set we have 2244 missing data points total between these columns.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># loading packages </span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(mice)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(missForest)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(VIM)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggmice)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(xlsx)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>Chronic_Conditions <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"Chronic_Conditions.xlsx"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Calculate pattern of missing data </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>Chronic_Conditions <span class="ot">&lt;-</span> Chronic_Conditions <span class="sc">%&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>( PrvInc , Stdzd_Pymt_PC, Pymt_PC)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_pattern</span>(Chronic_Conditions)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>aggr_plot <span class="ot">&lt;-</span> <span class="fu">aggr</span>(Chronic_Conditions, <span class="at">col=</span><span class="fu">c</span>(<span class="st">'navyblue'</span>,<span class="st">'red'</span>), </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>                  <span class="at">numbers=</span><span class="cn">TRUE</span>, <span class="at">sortVars=</span><span class="cn">TRUE</span>, <span class="at">labels=</span><span class="fu">names</span>(data), <span class="at">cex.axis=</span>.<span class="dv">7</span>, <span class="at">gap=</span><span class="dv">3</span>, </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">ylab=</span><span class="fu">c</span>(<span class="st">"Histogram of missing data"</span>,<span class="st">"Pattern"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-2-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Variables sorted by number of missings: 
      Variable      Count
 Stdzd_Pymt_PC 0.18681319
       Pymt_PC 0.18681319
        PrvInc 0.08302808</code></pre>
</div>
</div>
<p>Figures 3 and 4: Missing Map and histogram</p>
<p>We can see that over 75% of the data has been recorded but between those columns we are missing roughly 25% of our data which we will utilize the MICE package to impute. Following the Missing map, we ran the MICE package in R.</p>
<p>Results:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Imputes missing data using the three selected methods </span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>mice_imputed <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">original =</span> Chronic_Conditions<span class="sc">$</span>PrvInc,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">imputed_pmm =</span> <span class="fu">complete</span>(<span class="fu">mice</span>(Chronic_Conditions, <span class="at">method =</span> <span class="st">"pmm"</span>))<span class="sc">$</span>PrvInc,</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">imputed_cart =</span> <span class="fu">complete</span>(<span class="fu">mice</span>(Chronic_Conditions, <span class="at">method =</span> <span class="st">"cart"</span>))<span class="sc">$</span>PrvInc,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">imputed_lasso =</span> <span class="fu">complete</span>(<span class="fu">mice</span>(Chronic_Conditions, <span class="at">method =</span> <span class="st">"lasso.norm"</span>))<span class="sc">$</span>PrvInc</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
 iter imp variable
  1   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC

 iter imp variable
  1   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC

 iter imp variable
  1   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#mice_imputed #This would display all 4914 entries, alternatives? </span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>Chronic_Conditions.mis <span class="ot">&lt;-</span> <span class="fu">prodNA</span>(Chronic_Conditions, <span class="at">noNA =</span> <span class="fl">0.1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>After running the MICE package, we ran a MICE plot to gain a better visual of our missing data.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">aggr</span>(Chronic_Conditions.mis, <span class="at">col=</span><span class="fu">c</span>(<span class="st">'navyblue'</span>, <span class="st">'yellow'</span> ),</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">numbers=</span><span class="cn">TRUE</span>, <span class="at">sortVars=</span><span class="cn">TRUE</span>,</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">labels=</span><span class="fu">names</span>(Chronic_Conditions.mis), <span class="at">cex.axis=</span>.<span class="dv">7</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">gap=</span><span class="dv">3</span>, <span class="at">ylab=</span><span class="fu">c</span>(<span class="st">"Missing Data"</span>, <span class="st">"Pattern"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>
 Variables sorted by number of missings: 
      Variable     Count
       Pymt_PC 0.2704518
 Stdzd_Pymt_PC 0.2663818
        PrvInc 0.1748067</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>imputed_Data <span class="ot">&lt;-</span> <span class="fu">mice</span>(Chronic_Conditions.mis, <span class="at">m=</span><span class="dv">5</span>, <span class="at">maxit=</span><span class="dv">50</span>, <span class="at">method =</span> <span class="st">'pmm'</span>, <span class="at">seed=</span><span class="dv">500</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
 iter imp variable
  1   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  1   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  2   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  3   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  4   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  5   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  6   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  6   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  6   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  6   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  6   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  7   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  7   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  7   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  7   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  7   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  8   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  8   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  8   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  8   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  8   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  9   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  9   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  9   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  9   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  9   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  10   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  10   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  10   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  10   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  10   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  11   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  11   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  11   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  11   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  11   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  12   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  12   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  12   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  12   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  12   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  13   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  13   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  13   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  13   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  13   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  14   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  14   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  14   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  14   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  14   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  15   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  15   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  15   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  15   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  15   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  16   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  16   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  16   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  16   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  16   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  17   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  17   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  17   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  17   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  17   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  18   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  18   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  18   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  18   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  18   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  19   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  19   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  19   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  19   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  19   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  20   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  20   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  20   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  20   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  20   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  21   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  21   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  21   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  21   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  21   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  22   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  22   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  22   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  22   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  22   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  23   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  23   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  23   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  23   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  23   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  24   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  24   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  24   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  24   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  24   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  25   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  25   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  25   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  25   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  25   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  26   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  26   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  26   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  26   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  26   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  27   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  27   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  27   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  27   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  27   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  28   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  28   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  28   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  28   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  28   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  29   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  29   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  29   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  29   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  29   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  30   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  30   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  30   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  30   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  30   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  31   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  31   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  31   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  31   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  31   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  32   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  32   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  32   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  32   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  32   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  33   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  33   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  33   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  33   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  33   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  34   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  34   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  34   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  34   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  34   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  35   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  35   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  35   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  35   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  35   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  36   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  36   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  36   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  36   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  36   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  37   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  37   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  37   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  37   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  37   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  38   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  38   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  38   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  38   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  38   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  39   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  39   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  39   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  39   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  39   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  40   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  40   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  40   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  40   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  40   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  41   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  41   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  41   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  41   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  41   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  42   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  42   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  42   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  42   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  42   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  43   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  43   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  43   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  43   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  43   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  44   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  44   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  44   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  44   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  44   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  45   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  45   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  45   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  45   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  45   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  46   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  46   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  46   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  46   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  46   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  47   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  47   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  47   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  47   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  47   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  48   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  48   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  48   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  48   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  48   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  49   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  49   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  49   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  49   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  49   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  50   1  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  50   2  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  50   3  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  50   4  PrvInc  Stdzd_Pymt_PC  Pymt_PC
  50   5  PrvInc  Stdzd_Pymt_PC  Pymt_PC</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">md.pattern</span>(Chronic_Conditions.mis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>     PrvInc Stdzd_Pymt_PC Pymt_PC     
2707      1             1       1    0
308       1             1       0    1
299       1             0       1    1
741       1             0       0    2
524       0             1       1    1
66        0             1       0    2
55        0             0       1    2
214       0             0       0    3
        859          1309    1329 3497</code></pre>
</div>
</div>
<p>Figure 4: Missing data percentages per variable</p>
<p>Additionally, we ran the miss Forest package in R. We ran the package followed by a summary to gain a better quantitative view. Below are the code, results, and figure.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_pattern</span>(Chronic_Conditions.mis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Figure 5: Table of missing values present in each variable in dataset</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Chronic_Conditions.mis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>     PrvInc       Stdzd_Pymt_PC      Pymt_PC      
 Min.   :0.0000   Min.   :    0   Min.   :     0  
 1st Qu.:0.0384   1st Qu.:18643   1st Qu.: 18446  
 Median :0.1114   Median :23183   Median : 22980  
 Mean   :0.1728   Mean   :24045   Mean   : 24065  
 3rd Qu.:0.2751   3rd Qu.:28214   3rd Qu.: 28215  
 Max.   :0.7588   Max.   :68567   Max.   :100028  
 NA's   :859      NA's   :1309    NA's   :1329    </code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">densityplot</span>(imputed_Data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Figure 6: Density Plot</p>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<section id="references" class="level3 unnumbered">


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-awlb21" class="csl-entry" role="listitem">
Austin, Peter C., Ian R. White, Douglas S. Lee, and Stef van Buuren. 2021. <span>“Missing Data in Clinical Research: A Tutorial on Multiple Imputation.”</span> <em>Canadian Journal of Cardiology</em> 37 (9): 1322–31. <a href="https://doi.org/10.1016/j.cjca.2020.11.010">https://doi.org/10.1016/j.cjca.2020.11.010</a>.
</div>
<div id="ref-emmsmt21" class="csl-entry" role="listitem">
Emmanuel, T., T. Maupong, D. Mpoeleng, T. Semong, B. Mphago, and O. Tabona. 2021. <span>“A Survey on Missing Data in Machine Learning.”</span> <em>Journal of Big Data</em> 8 (1): 140. <a href="https://doi.org/10.1186/s40537-021-00516-9">https://doi.org/10.1186/s40537-021-00516-9</a>.
</div>
<div id="ref-k13" class="csl-entry" role="listitem">
Kang, H. 2013. <span>“The Prevention and Handling of the Missing Data.”</span> <em>Korean Journal of Anesthesiology</em> 64 (5): po2. https://doi.org/<a href="https://doi.org/10.4097/kjae.2013.64.5.402">https://doi.org/10.4097/kjae.2013.64.5.402</a>.
</div>
<div id="ref-kh20" class="csl-entry" role="listitem">
Khan, S. I., and A. S. M. L. Sice Hoque. 2020. <span>“An Improved Missing Data Imputation Technique.”</span> <em>J Big Data</em> 7: 37. <a href="https://doi.org/10.1186/s40537-020-00313-w">https://doi.org/10.1186/s40537-020-00313-w</a>.
</div>
<div id="ref-ltclbghc21" class="csl-entry" role="listitem">
Lee, Katherine J., Kate M. Tilling, Rosie P. Cornish, Roderick J. A. Little, Melanie L. Bell, Els Goetghebeur, Joseph W. Hogan, and James R. Carpenter. 2021. <span>“Framework for the Treatment and Reporting of Missing Data in Observational Studies: The Treatment and Reporting of Missing Data in Observational Studies Framework.”</span> <em>Journal of Clinical Epidemiology</em> 134: 79–88. <a href="https://doi.org/10.1016/j.jclinepi.2021.01.008">https://doi.org/10.1016/j.jclinepi.2021.01.008</a>.
</div>
<div id="ref-ljlmw14" class="csl-entry" role="listitem">
Little, T., T. Jorgensen, K. Lang, E. Moore, and E. Whitney. 2014. <span>“On the Joys of Missing Data.”</span> <em>Journal of Pediatric Psychology</em> 39 (2): 151–62. https://doi.org/<a href="https://doi.org/10.1093/jpepsy/jst048">https://doi.org/10.1093/jpepsy/jst048</a>.
</div>
<div id="ref-mhth19" class="csl-entry" role="listitem">
Madley-Dowd, P., R. Hughes, K. Tilling, and J. Heron. 2019. <span>“The Proportion of Missing Data Should Not Be Used to Guide Decisions on Multiple Imputation.”</span> <em>JCE</em> 110: 63–73. <a href="https://doi.org/10.1016/j.jclinepi.2019.02.016">https://doi.org/10.1016/j.jclinepi.2019.02.016</a>.
</div>
<div id="ref-CMMS" class="csl-entry" role="listitem">
Medicare &amp; Medicaid Services, Centers for. 2018. <span>“Specific Chronic Conditions.”</span> <a href="https://catalog.data.gov/dataset/specific-chronic-conditions-0f448">https://catalog.data.gov/dataset/specific-chronic-conditions-0f448</a>.
</div>
<div id="ref-MZPRG14" class="csl-entry" role="listitem">
Musoro, Jammbe Z, Aeilko H Zwinderman, Milo A Puhan, Gerben ter Riet, and Ronald B Geskus. 2014. <span>“Validation of Prediction Models Based on Lasso Regression with Multiply Imputed Data.”</span> <em>BMC Medical Research Methodology</em> 1. https://doi.org/<a href="https://doi.org/10.1186/1471-2288-14-116">https://doi.org/10.1186/1471-2288-14-116</a>.
</div>
<div id="ref-oap18" class="csl-entry" role="listitem">
Osman, M. S., A. M. Abu-Mahfouz, and P. R. Page. 2018. <span>“A Survey on Data Imputation Techniques: Water Distribution System as a Use Case.”</span> <em>IEEE Access</em> 6: 63279–91. <a href="https://doi.org/10.1109/ACCESS.2018.2877269">https://doi.org/10.1109/ACCESS.2018.2877269</a>.
</div>
<div id="ref-pmckppp17" class="csl-entry" role="listitem">
Pedersen, Alma B., Ellen M. Mikkelsen, Deirdre Cronin-Fenton, Nickolaj R. Kristensen, Tra My Pham, Lars Pedersen, and Irene Petersen. 2017. <span>“Missing Data and Multiple Imputation in Clinical Epidemiological Research,”</span> <em>Clinical Epidemiology</em> 9: 157–66. <a href="https://doi.org/10.2147/CLEP.S129785">https://doi.org/10.2147/CLEP.S129785</a>.
</div>
<div id="ref-RJG21" class="csl-entry" role="listitem">
Rodgers, Danielle M., Ross Jacobucci, and Kevin J. Grimm. 2021. <span>“A Multiple Imputation Approach for Handling Missing Data in Classification and Regression Trees.”</span> <em>Journal of Behavioral Data Science</em> 1: 127–53. https://doi.org/<a href="https://doi.org/10.35566/jbds/v1n1/p6">https://doi.org/10.35566/jbds/v1n1/p6</a>.
</div>
<div id="ref-r76" class="csl-entry" role="listitem">
Rubin, Donald B. 1976. <span>“Inference and Missing Data.”</span> <em>Biometrika</em> 63 (3): 581–92. <a href="https://doi.org/10.1093/biomet/63.3.581">https://doi.org/10.1093/biomet/63.3.581</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>